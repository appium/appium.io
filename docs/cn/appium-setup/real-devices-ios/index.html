<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Real devices ios - Appium</title>

    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&amp;subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&amp;subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/cinder.css" rel="stylesheet">
    <link href="../../css/appium.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="/">
                <img src="../../img/appium_white_360.png">
            </a>
        </div>

        <!-- Expanded navigation -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                
                    <li>
                        <a href="../../README/">README</a>
                    </li>
                
                
                
                
                
                    <li class="menu-item dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About appium <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="../../about-appium/appium-clients/">Appium clients</a>
</li>

                        
                            
<li>
    <a href="../../about-appium/intro/">Intro</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                
                
                    <li class="menu-item dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Advanced concepts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="../../advanced-concepts/chromedriver/">Chromedriver</a>
</li>

                        
                            
<li>
    <a href="../../advanced-concepts/cross-domain-iframes/">Cross domain iframes</a>
</li>

                        
                            
<li>
    <a href="../../advanced-concepts/event-timings/">Event timings</a>
</li>

                        
                            
<li>
    <a href="../../advanced-concepts/grid/">Grid</a>
</li>

                        
                            
<li>
    <a href="../../advanced-concepts/hybrid/">Hybrid</a>
</li>

                        
                            
<li>
    <a href="../../advanced-concepts/ios-webkit-debug-proxy/">Ios webkit debug proxy</a>
</li>

                        
                            
<li>
    <a href="../../advanced-concepts/iwd_xcode7/">Iwd xcode7</a>
</li>

                        
                            
<li>
    <a href="../../advanced-concepts/migrating-to-1-0/">Migrating to 1 0</a>
</li>

                        
                            
<li>
    <a href="../../advanced-concepts/migrating-to-xcuitest/">Migrating to xcuitest</a>
</li>

                        
                            
<li>
    <a href="../../advanced-concepts/settings/">Settings</a>
</li>

                        
                            
<li>
    <a href="../../advanced-concepts/wda-custom-server/">Wda custom server</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                
                
                    <li class="menu-item dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Appium setup <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="../android-hax-emulator/">Android hax emulator</a>
</li>

                        
                            
<li>
    <a href="../android-setup/">Android setup</a>
</li>

                        
                            
<li>
    <a href="../ios-deploy/">Ios deploy</a>
</li>

                        
                            
<li>
    <a href="../parallel_tests/">Parallel tests</a>
</li>

                        
                            
<li>
    <a href="../platform-support/">Platform support</a>
</li>

                        
                            
<li>
    <a href="../real-devices-android/">Real devices android</a>
</li>

                        
                            
<li class="active">
    <a href="./">Real devices ios</a>
</li>

                        
                            
<li>
    <a href="../real-devices/">Real devices</a>
</li>

                        
                            
<li>
    <a href="../running-on-linux/">Running on linux</a>
</li>

                        
                            
<li>
    <a href="../running-on-osx/">Running on osx</a>
</li>

                        
                            
<li>
    <a href="../running-on-windows/">Running on windows</a>
</li>

                        
                            
<li>
    <a href="../troubleshooting/">Troubleshooting</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                
                
                    <li class="menu-item dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing to appium <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="../../contributing-to-appium/appium-from-source/">Appium from source</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/appium-packages/">Appium packages</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/credits/">Credits</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/developers-overview/">Developers overview</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/gulp/">Gulp</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/how-to-write-docs/">How to write docs</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/style-guide-2.0/">Style guide 2.0</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/style-guide/">Style guide</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/version-branch-release/">Version branch release</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                
                
                    <li class="menu-item dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Writing running appium <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="../../writing-running-appium/android_coverage/">Android coverage</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/appium-bindings/">Appium bindings</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/caps/">Caps</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/default-capabilities-arg/">Default capabilities arg</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/espresso/">Espresso</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/finding-elements/">Finding elements</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/ios-touch-id/">Ios touch id</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/ios-xctest-mobile-gestures/">Ios xctest mobile gestures</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/ios_predicate/">Ios predicate</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/mobile-web/">Mobile web</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/network_connection/">Network connection</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/reset-strategies/">Reset strategies</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/running-tests/">Running tests</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/safari-launcher/">Safari launcher</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/server-args/">Server args</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/touch-actions/">Touch actions</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/uiautomator2/">Uiautomator2</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/uiautomator_uiselector/">Uiautomator uiselector</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/unicode/">Unicode</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/windows-app-testing/">Windows app testing</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li>
                        <a rel="next" href="../real-devices-android/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li>
                        <a rel="prev" href="../real-devices/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#ios-appium">在 iOS 真机上运行 Appium</a></li>
        
            <li class="second-level"><a href="#appium">使用 Appium 运行你的测试</a></li>
            
        
            <li class="second-level"><a href="#desired-capabilities">Desired Capabilities</a></li>
            
        
            <li class="second-level"><a href="#_1">必备的软件</a></li>
            
        
    
        <li class="first-level "><a href="#xcode-7-ios-93-ios">在 Xcode 7 和 iOS 9.3 或者以下，配置 iOS 真机设备测试</a></li>
        
            <li class="second-level"><a href="#_2">排障思路</a></li>
            
        
    
        <li class="first-level "><a href="#xcode-8-ios-93-ios">在 Xcode 8 和 iOS 9.3 以上配置 iOS 真机设备测试</a></li>
        
            <li class="second-level"><a href="#_3">基本 (自动化) 配置</a></li>
            
        
            <li class="second-level"><a href="#_4">基本 (手动) 配置</a></li>
            
        
            <li class="second-level"><a href="#_5">全部手动配置</a></li>
            
        
    
    </ul>
</div></div>
        <div class="col-md-9 documentation" role="main"><h2 id="ios-appium"><a id="github-link" style="padding: 4px 4px;" class="btn btn-default pull-right" href="https://github.com/appium/appium/edit/master/docs/cn/appium-setup/real-devices-ios.md">
    <i class="glyphicon glyphicon-pencil"></i>
    &nbsp;&nbsp;Edit this Doc
  </a>在 iOS 真机上运行 Appium</h2>
<p>Appium 已支持真机的测试。</p>
<h3 id="appium">使用 Appium 运行你的测试</h3>
<p>把设备的 udid 传给 <code>udid</code> 这个 capability。把应用的 bundle ID 传给 <code>app</code> 这个 capability，如果你的应用已经在手机上安装好了。如果应用未安装，那么需要将 <code>.ipa</code> 或者 <code>.app</code> 文件的路径传给 <code>app</code> 这个 capability。一旦你的设备和应用已经配置好，你就可以在那个设备上运行测试了。</p>
<h3 id="desired-capabilities">Desired Capabilities</h3>
<p>通过在测试里使用以下的 capability，你可以在某个设备加载这个应用：</p>
<ul>
<li><code>app</code> 或者 <code>bundleId</code> - 指定应用，或者如果应用已经安装到手机上了，只需简单地指定应用的 bundleID。这样 Appium 就可以加载该应用了。</li>
<li><code>udid</code> - 被测设备的 id。如果只有一台设备连接的时候，可以设置为 <code>auto</code>，Appium 能自动识别设备 id 并使用它。</li>
</ul>
<p>更多的细节参考 <a href="/docs/cn/writing-running-appium/caps/index.html">Appium server capabilities</a></p>
<h3 id="_1">必备的软件</h3>
<p>Appium iOS 真机支持依赖一个重要的第三方软件套件 <a href="http://www.libimobiledevice.org/">libimobiledevice</a>，使用 <a href="http://brew.sh/">Homebrew</a> 可以轻易地安装好。</p>
<pre><code>brew install libimobiledevice
</code></pre>

<h2 id="xcode-7-ios-93-ios">在 Xcode 7 和 iOS 9.3 或者以下，配置 iOS 真机设备测试</h2>
<p>在 iOS 9.3 或者以下，使用 Xcode 7.3 或者以下对真机进行自动化 (比如，基于 Instruments 的测试) 需要相对较少的配置。主要就是需要你的应用是使用开发者证书签名的。 不幸的是，苹果移除了所有使用老版本 Xcode 的文档，不过你可以从<a href="https://medium.com/ios-os-x-development/ios-code-signing-provisioning-in-a-nutshell-d5b247760bef#.5hirl92tn">这里</a>，<a href="https://engineering.nodesagency.com/articles/iOS/Understanding-code-signing-for-iOS-apps/">这里</a>找到如何操作。</p>
<p>更详细地说， 在真机上开始测试, 你需要如下步骤：</p>
<ul>
<li>一个 <a href="https://developer.apple.com/programs/ios/">Apple Developer ID</a> 和一个有效的配置好开发者证书和 provisioning profile 的开发者账号。</li>
<li>要在真机上测试，一个有效的 iOS 开发证书和 Provisioning Profile 是必须的。被测应用也必须被签名。更多信息可以在 <a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/TestingYouriOSApp/TestingYouriOSApp.html">Apple documentation</a> 找到。</li>
<li>一个苹果设备： iPad 或者 iPhone 都可以。确保已经在 Xcode 里已经配置好了开发机。</li>
<li>一个已经签名的 <code>.app</code> 或则 <code>.ipa</code> 文件，或者使用源码编一个。</li>
<li>一台 Mac 电脑，装好了 <a href="https://developer.apple.com/xcode/">Xcode</a> 和 Xcode Command
Line Developer Tools。</li>
</ul>
<p>Appium 使用 <code>ideviceinstaller</code> (<code>libimobiledevice</code> 套件的一部分)来处理应用安装问题。但是有时候使用 Xcode 提前安装好应用确保没有问题更加容易。(更多参考 <a href="../ios-deploy/">iOS deploy</a>)。</p>
<h3 id="_2">排障思路</h3>
<ol>
<li>确保 UDID 是无误的，可以通过 Xcode Organizer 或者 iTunew 查看。留意 UDID 是很长的字符串（20+ 字符）。</li>
<li>确保你可以在模拟器运行你的测试。</li>
<li>重复确认通过 Instrumens 是否可以启动你的自动化。</li>
<li>确保 Instruments 不在运行状态中。</li>
<li>确保 UI Automation 在你的设备已经打开。设置 -&gt; 开发者 -&gt; 使用 UI Automation。</li>
</ol>
<h2 id="xcode-8-ios-93-ios">在 Xcode 8 和 iOS 9.3 以上配置 iOS 真机设备测试</h2>
<p>作为对 <code>libimobiledevice</code> 依赖的补充，Appium 对 iOS 9.3 及以上和 Xcode 8 及以上的支持依赖 <code>ios-deploy</code>,
通过 <a href="https://www.npmjs.com/package/ios-deploy">npm</a> 可以方便地安装：</p>
<pre><code>npm install -g ios-deploy
</code></pre>

<p>不幸地是，苹果改变了以往的测试方法。新的方法需要安装一个帮助应用到设备上去，通过这个应用，自动化测试才能进行。说起来挺简单，但是代码签名和生成供开发和测试的应用，让人有一点头疼。</p>
<p>Appium 安装的应用叫 <code>WebDriverAgent-Runner</code> (可以在<a href="https://github.com/facebook/WebDriverAgent/">这里</a>)找到，要想安装这个应用，Appium需要能配置这个构建。</p>
<h3 id="_3">基本 (自动化) 配置</h3>
<p>在 iOS 真机上设置和运行 Appium XCUItest，最方便的方法是使用自动化配置策略。有两种方式：</p>
<ul>
<li>使用 <code>xcodeOrgId</code> 和 <code>xcodeSigningId</code> desired capabilities:</li>
</ul>
<pre><code class="json">    {
      "xcodeOrgId": "&lt;Team ID&gt;",
      "xcodeSigningId": "iPhone Developer"
    }
</code></pre>

<ul>
<li>在你的文件系统里创建一个 <code>.xcconfig</code> 文件，内容是：</li>
</ul>
<pre><code>    DEVELOPMENT_TEAM = &lt;Team ID&gt;
    CODE_SIGN_IDENTITY = iPhone Developer
</code></pre>

<p>以上任何一个方式，Team ID 是一个 10 个字符长的字符串，苹果生成这个字符串，分配给你的团队。你可以在你的开发者账号里找到你的 Team ID。登录 <a href="http://developer.apple.com/account">developer.apple.com/account</a>，然后点击边栏上的 Membership。你的 Team ID 在 Membership
Information 部分的团队名字下面。你也可以在 keychain 里的 iPhone 开发者证书里的 "Organizational Unit" 属性找到你的 Team ID。</p>
<p>注意这是互斥的策略；要么用 <code>xcodeConfigFile</code> capability， 要么用 <code>xcodeOrgId</code> and <code>xcodeSigningId</code> 的组合。</p>
<p>当以上的配置搞定后，只需再指定 <code>udid</code> capability 就可以在真机上开始测试了。</p>
<p>如果还是不工作的话，通常会在 Appium server 的日志里显示一些错误如：<code>info XCUITest xcodebuild exited with code '65' and signal 'null'</code>。这通常表示必要的代码签名没配置正确。 去看下 <a href="https://github.com/imurchie/appium-xcuitest-driver/blob/isaac-rs/docs/real-device-config.md#basic-manual-configuration">Basic (manual) configuration</a>
这个文档，参试修复下。</p>
<p>如果 <code>WebDriverAgentRunner</code> 成功的在设备上安装好，但是在 Appium server 日志里还是有如下错误信息：</p>
<pre><code>2017-01-24 09:02:18.358 xcodebuild[30385:339674] Error Domain=com.apple.platform.iphoneos Code=-12 "Unable to launch com.apple.test.WebDriverAgentRunner-Runner" UserInfo={NSLocalizedDescription=Unable to launch com.apple.test.WebDriverAgentRunner-Runner, NSUnderlyingError=0x7fa839cadc60 {Error Domain=DTXMessage Code=1 "(null)" UserInfo={DTXExceptionKey=The operation couldn’t be completed. Unable to launch com.apple.test.WebDriverAgentRunner-Runner because it has an invalid code signature, inadequate entitlements or its profile has not been explicitly trusted by the user. : Failed to launch process with bundle identifier 'com.apple.test.WebDriverAgentRunner-Runner'}}}
2017-01-24 09:02:18.358 xcodebuild[30385:339674] Error Domain=IDETestOperationsObserverErrorDomain Code=5 "Early unexpected exit, operation never finished bootstrapping - no restart will be attempted" UserInfo={NSLocalizedDescription=Early unexpected exit, operation never finished bootstrapping - no restart will be attempted}

Testing failed:
    Test target WebDriverAgentRunner encountered an error (Early unexpected exit, operation never finished bootstrapping - no restart will be attempted)
</code></pre>

<p>这个问题是因为开发者在这台设备上不被信任。如果你在设备上手动运行 <code>WebDriverAgentRunner</code>，你会看到一个错误页面弹出来：</p>
<p><img alt="Untrusted developer" src="../real-devices-img/untrusted-dev.png"></p>
<p>你可以去设备中的 Settings =&gt; General =&gt; Device Management 信任这个开发者，允许 <code>WebDriverAgentRunner</code> 运行 (参考 <a href="https://support.apple.com/en-us/HT204460">Apple
documentation for more information</a>).</p>
<h3 id="_4">基本 (手动) 配置</h3>
<p>很多情况，基本的自动配置满足不了需求。这通常和真机运行上的代码签名和项目配置有关。这常常发生在免费的开发者账号上，免费的开发者账号不能创建 wildcard provisioning profile，也不能为应用创建默认的配置文件。</p>
<p>Xcode <strong>创建 provisioning profile 失败</strong> 的错误如下：</p>
<p><img alt="No provisioning profile" src="../real-devices-img/no-prov-prof.png"></p>
<p>最容易的解决方案就是打开 <a href="https://developer.apple.com/xcode/">Xcode</a>创建一个新工程：</p>
<p><img alt="Create new project" src="../real-devices-img/create-new-project.png"></p>
<p>类型不重要，只要是 "iOS"。用最简单的 "Single View Application" 即可：</p>
<p><img alt="Create single page" src="../real-devices-img/create-single-page.png"></p>
<p>重要的地方是要用唯一的 "Product Name" 和 "Organization Name". 然后，在这里，指定你的 "Team"。</p>
<p><img alt="Setup bundle" src="../real-devices-img/set-up-bundle.png"></p>
<p>你可以在 "Project" tab 确认 provisioning profile 是否创建成功。</p>
<p><img alt="Project pane" src="../real-devices-img/project-prov-prof.png"></p>
<p>或者去你的账号首选项里看看 provisioning profile：</p>
<p><img alt="Check provisioning profile" src="../real-devices-img/check-prov-prof.png"></p>
<p>现在你就有了一个有效的 provisioning profile。 记住你关联这个 profile 的 bundle id，然后放到 <code>updatedWDABundleId</code> 这个 desired capability 里。然后跟着<a href="#basic-automatic-configuration">前面的自动配置教程</a>操作即可。</p>
<h3 id="_5">全部手动配置</h3>
<p>另外，可以手动把 provisioning profile 和项目关联在一起。 (记住如果使用这个方法，每次 WebDriverAgent 更新，都要做一次。所以我们不推荐这个方法)：</p>
<ul>
<li>找到你的 Appium 的安装目录</li>
</ul>
<pre><code>    $ which appium
    /path/where/installed/bin/appium
</code></pre>

<ul>
<li>假设安装目录是： <code>/path/where/installed/bin/appium</code>，那么 <code>WebDriverAgent</code>
    在 <code>/path/where/installed/lib/node_modules/appium/node_modules/appium-xcuitest-driver/WebDriverAgent</code>。
    打开终端到那个目录，然后按以下命令操作：</li>
</ul>
<pre><code>    mkdir -p Resources/WebDriverAgent.bundle
    ./Scripts/bootstrap.sh -d
</code></pre>

<ul>
<li>
<p>在 Xcode 里打开 <code>WebDriverAgent.xcodeproj</code>。 对于 <code>WebDriverAgentLib</code>
    和 <code>WebDriverAgentRunner</code> 两个 target，都选择 "General" tab 里的 "Automatically manage signing"
    然后选择你的 <code>Development Team</code>。这也会自动选择 <code>Signing Ceritificate</code>。大概的样子如下：</p>
<p><img alt="WebDriverAgent in Xcode project" src="../real-devices-img/xcode-config.png"></p>
<ul>
<li>Xcode 可能会创建不了 <code>WebDriverAgentRunner</code> 的 provisioning profile：</li>
</ul>
<p><img alt="Xcode provisioning fail" src="../real-devices-img/xcode-facebook-fail.png"></p>
<ul>
<li>这时候需要在 "Build Settings" tab 里手动改 bundle id。把 "Product Bundle Identifier"
  从 <code>com.facebook.WebDriverAgentRunner</code> 改成 Xcode 能采用的：</li>
</ul>
<p><img alt="Xcode bundle id" src="../real-devices-img/xcode-bundle-id.png"></p>
<ul>
<li>在回到 "General" tab 里的 <code>WebDriverAgentRunner</code> target，现在你可以看到一个 provisioning profile 创建成果了:</li>
</ul>
<p><img alt="Xcode provisioning profile" src="../real-devices-img/xcode-facebook-succeed.png"></p>
</li>
<li>
<p>最后，你可以验证一切都 OK 了。 构建这个项目：</p>
</li>
</ul>
<pre><code>    xcodebuild -project WebDriverAgent.xcodeproj -scheme WebDriverAgentRunner -destination 'id=&lt;udid&gt;' test
</code></pre>

<p>如果成果了，最后的输出会像下面这样：</p>
<pre><code>    Test Suite 'All tests' started at 2017-01-23 15:49:12.585
    Test Suite 'WebDriverAgentRunner.xctest' started at 2017-01-23 15:49:12.586
    Test Suite 'UITestingUITests' started at 2017-01-23 15:49:12.587
    Test Case '-[UITestingUITests testRunner]' started.
        t =     0.00s     Start Test at 2017-01-23 15:49:12.588
        t =     0.00s     Set Up
</code></pre>

<ul>
<li>要完整验证的话，你可以试试看访问 WebDriverAgent server 的状态 (<strong>注意：</strong> 你必须和手机设备同一个网段，你可以从 Settings =&gt; Wi-Fi =&gt; Current Network 找到手机当前的 IP。):</li>
</ul>
<pre><code>    export DEVICE_URL='http://&lt;device IP&gt;:8100'
    export JSON_HEADER='-H "Content-Type: application/json;charset=UTF-8, accept: application/json"'
    curl -X GET $JSON_HEADER $DEVICE_URL/status
</code></pre>

<pre><code>你会得到如下输出：
</code></pre>
<pre><code>    {
      "value" : {
        "state" : "success",
        "os" : {
          "name" : "iOS",
          "version" : "10.2"
        },
        "ios" : {
          "simulatorVersion" : "10.2",
          "ip" : "192.168.0.7"
        },
        "build" : {
          "time" : "Jan 23 2017 14:59:57"
        }
      },
      "sessionId" : "8951A6DD-F3AD-410E-A5DB-D042F42F68A7",
      "status" : 0
    }
</code></pre></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small></p>
    </footer>

    <script src="../../js/jquery-1.10.2.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../..';
    </script>
    <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
    <script src="../../js/base.js"></script>
    <script src="../../js/extra.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">×</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    


</body></html>
<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>使用自定义 WDA 服务器 - Appium</title>

    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&amp;subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&amp;subset=latin-ext,latin" rel="stylesheet" type="text/css">
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/cinder.css" rel="stylesheet">
    <link href="../../css/appium.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="/">
                <img src="../../img/appium_white_360.png">
            </a>
        </div>

        <!-- Expanded navigation -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                
                    <li class="menu-item dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">关于 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="../../about-appium/intro/">简介</a>
</li>

                        
                            
<li>
    <a href="../../about-appium/appium-clients/">Appium 客户端</a>
</li>

                        
                            
<li>
    <a href="../../about-appium/platform-support/">已支持的平台</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                
                
                    <li class="menu-item dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">驱动程序 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="../../drivers/ios-xcuitest/">XCUITest (iOS)</a>
</li>

                        
                            
<li>
    <a href="../../drivers/ios-xcuitest-real-devices/">XCUITest Real Devices (iOS)</a>
</li>

                        
                            
<li>
    <a href="../../drivers/android-uiautomator2/">UIAutomator2 (Android)</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                
                
                    <li class="menu-item dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">编写 &amp; 运行测试 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="../../writing-running-appium/running-tests/">运行测试</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/caps/">预期功能</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/default-capabilities-arg/">--default-capabilities 标识</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/finding-elements/">寻找元素</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/touch-actions/">触控操作</a>
</li>

                        
                            
<li>
    <a href="../../writing-running-appium/server-args/">命令行参数</a>
</li>

                        
                            
  <li class="menu-item dropdown-submenu">
    <a class="dropdown-toggle" data-toggle="dropdown" href="">Web / Web 视图</a>
    <ul class="dropdown-menu">
        
            
<li>
    <a href="../../writing-running-appium/web/mobile-web/">自动化 Web 测试</a>
</li>

        
            
<li>
    <a href="../../writing-running-appium/web/hybrid/">自动化混合应用</a>
</li>

        
            
<li>
    <a href="../../writing-running-appium/web/ios-webkit-debug-proxy/">使用 ios-webkit-debug-proxy</a>
</li>

        
            
<li>
    <a href="../../writing-running-appium/web/chromedriver/">使用 Chromedriver</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="menu-item dropdown-submenu">
    <a class="dropdown-toggle" data-toggle="dropdown" href="">iOS</a>
    <ul class="dropdown-menu">
        
            
<li>
    <a href="../../writing-running-appium/ios/ios-xctest-mobile-gestures/">XCUITest 移动手势</a>
</li>

        
            
<li>
    <a href="../../writing-running-appium/ios/ios-predicate/">iOS 谓词（Predicate）指南</a>
</li>

        
            
<li>
    <a href="../../writing-running-appium/ios/ios-touch-id/">iOS Touch ID 指南</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="menu-item dropdown-submenu">
    <a class="dropdown-toggle" data-toggle="dropdown" href="">Android</a>
    <ul class="dropdown-menu">
        
            
<li>
    <a href="../../writing-running-appium/android/uiautomator-uiselector/">UiSelector 指南</a>
</li>

        
            
<li>
    <a href="../../writing-running-appium/android/android-coverage/">Android 代码覆盖指南</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="menu-item dropdown-submenu">
    <a class="dropdown-toggle" data-toggle="dropdown" href="">其他</a>
    <ul class="dropdown-menu">
        
            
<li>
    <a href="../../writing-running-appium/other/reset-strategies/">重置策略</a>
</li>

        
            
<li>
    <a href="../../writing-running-appium/other/network-connection/">网络连接指南</a>
</li>

        
            
<li>
    <a href="../../writing-running-appium/other/unicode/">在 Appium 中使用 Unicode</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                
                
                    <li class="menu-item dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">进阶 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="../migrating-to-xcuitest/">迁移到 XCUITest</a>
</li>

                        
                            
<li>
    <a href="../grid/">在 Appium 中使用 Selenium Grid</a>
</li>

                        
                            
<li>
    <a href="../cross-domain-iframes/">跨域 iframes</a>
</li>

                        
                            
<li class="active">
    <a href="./">使用自定义 WDA 服务器</a>
</li>

                        
                            
<li>
    <a href="../event-timings/">Event Timings API</a>
</li>

                        
                            
<li>
    <a href="../parallel-tests/">并行测试的设置</a>
</li>

                        
                            
<li>
    <a href="../settings/">Settings API</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                
                
                    <li class="menu-item dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">捐赠 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="../../contributing-to-appium/appium-from-source/">从源代码运行 Appium</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/developers-overview/">开发者概述</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/style-guide/">Appium 风格指南</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/how-to-write-docs/">如何编写文档</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/appium-packages/">Appium 包结构</a>
</li>

                        
                            
<li>
    <a href="../../contributing-to-appium/credits/">鸣谢</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li>
                        <a rel="next" href="../cross-domain-iframes/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li>
                        <a rel="prev" href="../event-timings/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#webdriveragent-server">如何搭建并定制 WebDriverAgent Server</a></li>
        
            <li class="second-level"><a href="#wda">安装WDA</a></li>
            
        
            <li class="second-level"><a href="#wda_1">启动WDA</a></li>
            
        
            <li class="second-level"><a href="#_1">重要注释</a></li>
            
        
    
    </ul>
</div></div>
        <div class="col-md-9 documentation" role="main"><h2 id="webdriveragent-server"><a id="github-link" style="padding: 4px 4px;" class="btn btn-default pull-right" href="https://github.com/appium/appium/edit/master/docs/cn/advanced-concepts/wda-custom-server.md">
    <i class="glyphicon glyphicon-pencil"></i>
    &nbsp;&nbsp;Edit this Doc
  </a>如何搭建并定制 WebDriverAgent Server</h2>
<p>Appium 的 iOS 版本的后端用的是<a href="https://github.com/facebook/WebDriverAgent">Facebook's WebDriverAgent</a>。该后端是基于苹果公司的 XCTest 框架，所以也有所有XCTest 框架已知的问题。其中有些问题我们正在设法解决，有一些在现阶段可能无法解决。本文中描述的方法已经能够使您完全掌握在设备上如何构建、管理和运行WDA。通过这种方式，您可以在CI环境中对您的自动化测试进行微调，并使其在长期运行的情况下更加稳定。</p>
<p>重点：
 * 如果使用了Appium的默认设置，则不需要如下的步骤。服务器将为您搞定一切，当然你也不能对WDA做太多控制。
 * 对连接的被测设备必须有SSH或物理访问权限。</p>
<h3 id="wda">安装WDA</h3>
<pre><code class="bash">cd /usr/local/lib/node_modules/appium/node_modules/appium-xcuitest-driver/WebDriverAgent
./Scripts/bootstrap.sh -d
</code></pre>

<p>不需要进一步的配置步骤，你就可以在iOS模拟器上执行自动化测试。</p>
<p>如果是在真机上进行测试的话，则需要做更多的设置。参考<a href="https://github.com/appium/appium-xcuitest-driver/blob/master/docs/real-device-config.md">real device configuration documentation</a> 设置代码签名。另外，你还需要安装iproxy工具。</p>
<pre><code class="bash">npm install -g iproxy
</code></pre>

<p>为了确保 WDA 源代码配置正确，请执行以下操作：</p>
<ul>
<li>用Xcode打开/usr/local/lib/node_modules/appium/node_modules/appium-xcuitest-driver/WebDriverAgent/WebDriverAgent.xcodeproj</li>
<li>选择 "WebDriverAgentRunner" 工程</li>
<li>选择要运行自动化测试的真机/模拟器作为构建目标机</li>
<li>在主菜单中选择 Product -&gt; Test</li>
</ul>
<p>Xcode 会成功构建项目并安装到真机/模拟器上，所以您将在苹果系统的桌面上看到 WebDriverAgentRunner 应用程序的图标。</p>
<h3 id="wda_1">启动WDA</h3>
<p>WebDriverAgent 应用程序扮演一个 REST 服务的角色，接收外部 API 请求，然后传递给被测应用的原生 XCTest 调用。如果在模拟器上运行你的测试，REST 服务的地址将是localhost，如果在有实际的 IP 地址的真实设备上运行，REST 服务的地址将是实际的 ip 地址。我们使用 iproxy 将网络请求路由到通过 USB 连接的真实设备上，这意味着可以使用这个工具将模拟器和真实设备上的 WDA 网络地址统一。</p>
<p>这个用Java编写的助手类说明了主要的实现细节：</p>
<pre><code class="java">public class WDAServer {
    private static final Logger log = ZLogger.getLog(WDAServer.class.getSimpleName());

    private static final int MAX_REAL_DEVICE_RESTART_RETRIES = 1;
    private static final Timedelta REAL_DEVICE_RUNNING_TIMEOUT = Timedelta.ofMinutes(4);
    private static final Timedelta RESTART_TIMEOUT = Timedelta.ofMinutes(1);

    // These settings are needed to properly sign WDA for real device tests
    // See https://github.com/appium/appium-xcuitest-driver for more details
    private static final File KEYCHAIN = new File(String.format("%s/%s",
            System.getProperty("user.home"), "/Library/Keychains/MyKeychain.keychain"));
    private static final String KEYCHAIN_PASSWORD = "******";

    private static final File IPROXY_EXECUTABLE = new File("/usr/local/bin/iproxy");
    private static final File XCODEBUILD_EXECUTABLE = new File("/usr/bin/xcodebuild");
    private static final File WDA_PROJECT =
            new File("/usr/local/lib/node_modules/appium/node_modules/appium-xcuitest-driver/" +
                    "WebDriverAgent/WebDriverAgent.xcodeproj");
    private static final String WDA_SCHEME = "WebDriverAgentRunner";
    private static final String WDA_CONFIGURATION = "Debug";
    private static final File XCODEBUILD_LOG = new File("/usr/local/var/log/appium/build.log");
    private static final File IPROXY_LOG = new File("/usr/local/var/log/appium/iproxy.log");

    private static final int PORT = 8100;
    public static final String SERVER_URL = String.format("http://127.0.0.1:%d", PORT);

    private static final String[] IPROXY_CMDLINE = new String[]{
            IPROXY_EXECUTABLE.getAbsolutePath(),
            Integer.toString(PORT),
            Integer.toString(PORT),
            String.format("&gt; %s 2&gt;&amp;1 &amp;", IPROXY_LOG.getAbsolutePath())
    };

    private static WDAServer instance = null;
    private final boolean isRealDevice;
    private final String deviceId;
    private final String platformVersion;
    private int failedRestartRetriesCount = 0;

    private WDAServer() {
        try {
            this.isRealDevice = !getIsSimulatorFromConfig(getClass());
            final String udid;
            if (isRealDevice) {
                udid = IOSRealDeviceHelpers.getUDID();
            } else {
                udid = IOSSimulatorHelpers.getId();
            }
            this.deviceId = udid;
            this.platformVersion = getPlatformVersionFromConfig(getClass());
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
        ensureToolsExistence();
        ensureParentDirExistence();
    }

    public synchronized static WDAServer getInstance() {
        if (instance == null) {
            instance = new WDAServer();
        }
        return instance;
    }

    private boolean waitUntilIsRunning(Timedelta timeout) throws Exception {
        final URL status = new URL(SERVER_URL + "/status");
        try {
            if (timeout.asSeconds() &gt; 5) {
                log.debug(String.format("Waiting max %s until WDA server starts responding...", timeout));
            }
            new UrlChecker().waitUntilAvailable(timeout.asMillis(), TimeUnit.MILLISECONDS, status);
            return true;
        } catch (UrlChecker.TimeoutException e) {
            return false;
        }
    }

    private static void ensureParentDirExistence() {
        if (!XCODEBUILD_LOG.getParentFile().exists()) {
            if (!XCODEBUILD_LOG.getParentFile().mkdirs()) {
                throw new IllegalStateException(String.format(
                        "The script has failed to create '%s' folder for Appium logs. " +
                                "Please make sure your account has correct access permissions on the parent folder(s)",
                        XCODEBUILD_LOG.getParentFile().getAbsolutePath()));
            }
        }
    }

    private void ensureToolsExistence() {
        if (isRealDevice &amp;&amp; !IPROXY_EXECUTABLE.exists()) {
            throw new IllegalStateException(String.format("%s tool is expected to be installed (`npm install -g iproxy`)",
                    IPROXY_EXECUTABLE.getAbsolutePath()));
        }
        if (!XCODEBUILD_EXECUTABLE.exists()) {
            throw new IllegalStateException(String.format("xcodebuild tool is not detected on the current system at %s",
                    XCODEBUILD_EXECUTABLE.getAbsolutePath()));
        }
        if (!WDA_PROJECT.exists()) {
            throw new IllegalStateException(String.format("WDA project is expected to exist at %s",
                    WDA_PROJECT.getAbsolutePath()));
        }
    }

    private List&lt;String&gt; generateXcodebuildCmdline() {
        final List&lt;String&gt; result = new ArrayList&lt;&gt;();
        result.add(XCODEBUILD_EXECUTABLE.getAbsolutePath());
        result.add("clean build test");
        result.add(String.format("-project %s", WDA_PROJECT.getAbsolutePath()));
        result.add(String.format("-scheme %s", WDA_SCHEME));
        result.add(String.format("-destination id=%s", deviceId));
        result.add(String.format("-configuration %s", WDA_CONFIGURATION));
        result.add(String.format("IPHONEOS_DEPLOYMENT_TARGET=%s", platformVersion));
        result.add(String.format("&gt; %s 2&gt;&amp;1 &amp;", XCODEBUILD_LOG.getAbsolutePath()));
        return result;
    }

    private static List&lt;String&gt; generateKeychainUnlockCmdlines() throws Exception {
        final List&lt;String&gt; result = new ArrayList&lt;&gt;();
        result.add(String.format("/usr/bin/security -v list-keychains -s %s", KEYCHAIN.getAbsolutePath()));
        result.add(String.format("/usr/bin/security -v unlock-keychain -p %s %s",
                KEYCHAIN_PASSWORD, KEYCHAIN.getAbsolutePath()));
        result.add(String.format("/usr/bin/security set-keychain-settings -t 3600 %s", KEYCHAIN.getAbsolutePath()));
        return result;
    }

    public synchronized void restart() throws Exception {
        if (isRealDevice &amp;&amp; failedRestartRetriesCount &gt;= MAX_REAL_DEVICE_RESTART_RETRIES) {
            throw new IllegalStateException(String.format(
                    "WDA server cannot start on the connected device with udid %s after %s retries. " +
                            "Reboot the device manually and try again", deviceId, MAX_REAL_DEVICE_RESTART_RETRIES));
        }

        final String hostname = InetAddress.getLocalHost().getHostName();
        log.info(String.format("Trying to (re)start WDA server on %s:%s...", hostname, PORT));
        UnixProcessHelpers.killProcessesGracefully(IPROXY_EXECUTABLE.getName(), XCODEBUILD_EXECUTABLE.getName());

        final File scriptFile = File.createTempFile("script", ".sh");
        try {
            final List&lt;String&gt; scriptContent = new ArrayList&lt;&gt;();
            scriptContent.add("#!/bin/bash");
            if (isRealDevice &amp;&amp; isRunningInJenkinsNetwork()) {
                scriptContent.add(String.join("\n", generateKeychainUnlockCmdlines()));
            }
            if (isRealDevice) {
                scriptContent.add(String.join(" ", IPROXY_CMDLINE));
            }
            final String wdaBuildCmdline = String.join(" ", generateXcodebuildCmdline());
            log.debug(String.format("Building WDA with command line:\n%s\n", wdaBuildCmdline));
            scriptContent.add(wdaBuildCmdline);
            try (Writer output = new BufferedWriter(new FileWriter(scriptFile))) {
                output.write(String.join("\n", scriptContent));
            }
            new ProcessBuilder("/bin/chmod", "u+x", scriptFile.getCanonicalPath())
                    .redirectErrorStream(true).start().waitFor(5, TimeUnit.SECONDS);
            final ProcessBuilder pb = new ProcessBuilder("/bin/bash", scriptFile.getCanonicalPath());
            final Map&lt;String, String&gt; env = pb.environment();
            // This is needed for Jenkins
            env.put("BUILD_ID", "dontKillMe");
            log.info(String.format("Waiting max %s for WDA to be (re)started on %s:%s...", RESTART_TIMEOUT.toString(),
                    hostname, PORT));
            final Timedelta started = Timedelta.now();
            pb.redirectErrorStream(true).start().waitFor(RESTART_TIMEOUT.asMillis(), TimeUnit.MILLISECONDS);
            if (!waitUntilIsRunning(RESTART_TIMEOUT)) {
                ++failedRestartRetriesCount;
                throw new IllegalStateException(
                        String.format("WDA server has failed to start after %s timeout on server '%s'.\n"
                                        + "Please make sure that iDevice is properly connected and you can build "
                                        + "WDA manually from XCode.\n"
                                        + "Xcodebuild logs:\n\n%s\n\n\niproxy logs:\n\n%s\n\n\n",
                                RESTART_TIMEOUT, hostname,
                                getLog(XCODEBUILD_LOG).orElse("EMPTY"), getLog(IPROXY_LOG).orElse("EMPTY"))
                );
            }

            log.info(String.format("WDA server has been successfully (re)started after %s " +
                    "and now is listening on %s:%s", Timedelta.now().diff(started).toString(), hostname, PORT));
        } finally {
            scriptFile.delete();
        }
    }

    public boolean isRunning() throws Exception {
        if (!isProcessRunning(XCODEBUILD_EXECUTABLE.getName())
                || (isRealDevice &amp;&amp; !isProcessRunning(IPROXY_EXECUTABLE.getName()))) {
            return false;
        }
        return waitUntilIsRunning(isRealDevice ? REAL_DEVICE_RUNNING_TIMEOUT : Timedelta.ofSeconds(3));
    }

    public Optional&lt;String&gt; getLog(File logFile) {
        if (logFile.exists()) {
            try {
                return Optional.of(new String(Files.readAllBytes(logFile.toPath()), Charset.forName("UTF-8")));
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        return Optional.empty();
    }

    public void resetLogs() {
        for (File logFile : new File[]{XCODEBUILD_LOG, IPROXY_LOG}) {
            if (logFile.exists()) {
                try {
                    final PrintWriter writer = new PrintWriter(logFile);
                    writer.print("");
                    writer.close();
                } catch (FileNotFoundException e) {
                    e.printStackTrace();
                }
            }
        }
    }
}
</code></pre>

<p>之前应该调用这段代码来启动 Appium iOS 驱动，例如，在 setUp 方法中：</p>
<pre><code class="java">   if (!WDAServer.getInstance().isRunning()) {
       WDAServer.getInstance().restart();
   }
</code></pre>

<p>为 Appium 驱动程序设置 webDriverAgentUrl 非常重要，让它知道我们的 WDA 驱动程序可以使用：</p>
<pre><code class="java">    capabilities.setCapability("webDriverAgentUrl", WDAServer.SERVER_URL);
</code></pre>

<h3 id="_1">重要注释</h3>
<ul>
<li>如果是 jenkins agent 执行的，该进程不能直接访问钥匙串（Keychain），所以我们需要在为真实设备编译 WDA 之前准备钥匙串，否则编码将失败。</li>
<li>如果 xcodebuild 和 iproxy 进程已经被冻结，我们在重新启动之前杀死这些进程，以确保编译成功，</li>
<li>我们准备一个单独的 bash 脚本并独立于 iproxy / xcodebuild 进程，所以即使在实际的代码执行完成后，它们也可以在后台继续运行。如果在自动化实验室中的同一机器/节点上执行多个测试/套件，最少的人工干预是非常重要的。</li>
<li>更改 BUILD_ID 环境变量的值以避免在作业完成后由 Jenkins agent 程序杀死后台进程。</li>
<li>isRunning 检查是通过验证实际的网络终端来完成的.</li>
<li>守护进程的输出会存入日志，因此可以跟踪错误和意外的故障。如果服务器无法启动/重启，日志文件的内容会自动添加到实际的错误消息中。</li>
<li>真机设备ID可以从 <code>system_profiler SPUSBDataType</code> 输出中解析</li>
<li>模拟器ID可以从 <code>xcrun simctl list</code> 输出中解析</li>
<li>UrlChecker 类是从 org.openqa.selenium.net 包导入的</li>
</ul>
<p>本文由 simple 翻译，由 lihuazhang 校验。</p></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small></p>
    </footer>

    <script src="../../js/jquery-1.10.2.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../..';
    </script>
    <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
    <script src="../../js/base.js"></script>
    <script src="../../js/extra.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">×</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    


</body></html>